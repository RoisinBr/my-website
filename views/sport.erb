<h1 class="page-heading">Sport</h1>

<div class="container">
  <div class="row">
    <div class="card-columns">
      <div class="card">
      <% if @articles.length > 0 %>
        <img src="<%=@articles.last.hero_image%>" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title"><%=@articles.last.title%></h5>
          <p class="card-text"><%=@articles.last.article.truncate(300)%></p>
          <a href="/articles/<%=@articles.last.id%>">Read More</a>
        </div>
      <% else %>
        <p class="no-article">Article Coming Soon</p>
      <%end%>
      </div>
      <%# <div class="card p-3">
        <blockquote class="blockquote mb-0 card-body">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
          <footer class="blockquote-footer">
            <small class="text-muted">
              Someone famous in <cite title="Source Title">Source Title</cite>
            </small>
          </footer>
        </blockquote>
      </div> %>
      <%# <div class="card p-3 text-right">
        <blockquote class="blockquote mb-0">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
          <footer class="blockquote-footer">
            <small class="text-muted">
              Someone famous in <cite title="Source Title">Source Title</cite>
            </small>
          </footer>
        </blockquote>
      </div> %>
      <%# <div class="card bg-purple text-white text-center p-3">
        <blockquote class="blockquote mb-0">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat.</p>
          <footer class="blockquote-footer text-white">
            <small>
              Someone famous in <cite title="Source Title">Source Title</cite>
            </small>
          </footer>
        </blockquote>
      </div> %>
      <%# <div class="card text-center">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">This card has a regular title and short paragraphy of text below it.</p>
          <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
        </div>
      </div> %>
      <div class="card">
        <img src="media/stu_and_dale_pinnacle.JPG" class="card-img-top" alt="...">
      </div>
      <div class="card">
        <img src="/media/scvlogo.jpg" class="card-img-top" alt="stu and dale">
        <div class="card-body">
          <h5 class="card-title">Sport Climbing Victoria</h5>
          <p class="card-text">Vice President</p>
        </div>
      </div>
      <div class="card lavender">
        <div class="card-body">
          <h5>The countdown is on</h5>
          <h6 class="card-title">Olympic Kick-Off</h6>
          <p id="olympics" class="card-text"></p>
          <h6 class="card-title">AFLW Kick-Off*</h6>
          <p id="aflw" class="card-text"></p>
          <small>*This will be updated once AFLW fixture confirmed</small>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <h1 class="page-heading">Blog Posts</h1>
  <% @articles.each do |article| %>
  <div class="flex blog-post">
    <div class="blog-img">
      <a href="/articles/<%=article.id%>">
        <img class="img-blog" src="<%=article.hero_image%>" alt="">
      </a>
    </div>
    <div class="blog-detail">
      <h3><%=article.title%></h3>
      <p class="article-brief"><%=article.article.truncate(300)%></p>
      <a class="read-more" href="/articles/<%=article.id%>">Read More</a>
    </div>
  </div>
  <% end %>
</div>

<script>
// Set the date we're counting down to
var countDownDate = new Date("Jul 24, 2020 21:00:00").getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="demo"
  document.getElementById("olympics").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text 
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("olympics").innerHTML = "The olympics have started!";
  }
}, 1000);

var aflwCountDownDate = new Date("Feb 1, 2020 00:00:00").getTime();
var y = setInterval(function() {
  var now = new Date().getTime();
  var distance = aflwCountDownDate - now;
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);


  document.getElementById("aflw").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  if (distance < 0) {
    clearInterval(x);
    document.getElementById("aflw").innerHTML = "And we're off!";
  }
}, 1000);
</script>

<%# article %>
<%# Picture of me climbing %>